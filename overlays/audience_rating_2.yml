templates:
  audience_score:
    default:
      horizontal_offset: 62
      horizontal_align: right
      vertical_offset: 62
      vertical_align: bottom
    conditionals:
      audience_rating.gte:
        conditions:
          - key: audience_score_high
            value: 8.0
          - key: audience_score_mid
            value: 6.0
          - key: audience_score_low
            value: 0
      names:
        default: <<overlay_name>>
        conditions:
          - key: [audience_score_high, audience_score_mid, audience_score_low]
            value: text(<<audience_rating>>)
      font_color:
        conditions:
          - key: audience_score_high
            value: "#00FF00"  # Green for high scores
          - key: audience_score_mid
            value: "#FFFF00"  # Yellow for mid scores
          - key: audience_score_low
            value: "#FF0000"  # Red for low scores
    optional:
      - builder_level
    plex_all: true
    filters:
      audience_rating.gte: <<audience_rating.gte>>
    builder_level: <<builder_level>>
    overlay:
      name: <<names>>
      group: <<group>>
      weight: <<weight>>
      horizontal_offset: <<horizontal_offset>>
      horizontal_align: <<horizontal_align>>
      vertical_offset: <<vertical_offset>>
      vertical_align: <<vertical_align>>
      font_color: <<font_color>>
      font: config/overlays/fonts/AvenirNextLTPro-Bold.ttf
      font_size: 68
      # Removed all background styling for full transparency

overlays:
  audience_score_high:
    variables: { key: audience_score_high, weight: 500, group: score }
    template: [ name: audience_score ]
  audience_score_mid:
    variables: { key: audience_score_mid, weight: 400, group: score }
    template: [ name: audience_score ]
  audience_score_low:
    variables: { key: audience_score_low, weight: 300, group: score }
    template: [ name: audience_score ]
